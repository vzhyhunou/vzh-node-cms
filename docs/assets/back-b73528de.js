import{q as x,r as F,g as B,_ as K,a as I}from"./index-68a79b4e.js";import{i as V,f as z,b as G}from"./back-e4375947.js";var k={},q={};(function(f){function g(t){"@babel/helpers - typeof";return g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(t)}Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var b=x,m=F,j=["id"];function h(t,e){if(t==null)return{};var n=P(t,e),i,s;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(s=0;s<l.length;s++)i=l[s],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function P(t,e){if(t==null)return{};var n={},i=Object.keys(t),s,l;for(l=0;l<i.length;l++)s=i[l],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function T(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,i)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T(Object(n),!0).forEach(function(i){D(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function D(t,e,n){return e=J(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function J(t){var e=N(t,"string");return g(e)=="symbol"?e:String(e)}function N(t,e){if(g(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(g(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function R(t,e){return U(t)||H(t,e)||C(t,e)||$()}function $(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C(t,e){if(t){if(typeof t=="string")return M(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M(t,e)}}function M(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function H(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var i,s,l,a,r=[],o=!0,u=!1;try{if(l=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;o=!1}else for(;!(o=(i=l.call(n)).done)&&(r.push(i.value),r.length!==e);o=!0);}catch(c){u=!0,s=c}finally{try{if(!o&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw s}}return r}}function U(t){if(Array.isArray(t))return t}var v="/api";f.default=function(e){var n=e.localeProvider.getLocale,i=e.authProvider.getToken,s=function(a){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Promise.all([n(),i()]).then(function(o){var u=R(o,2),c=u[0],d=u[1];return p(p({},r),{},{headers:new Headers({Accept:"application/json","Accept-Language":c})},d?{user:{authenticated:!0,token:"Bearer ".concat(d)}}:{})}).then(function(o){return m.fetchUtils.fetchJson(a,o)})};return{getList:function(a,r){var o=r.pagination,u=r.sort,c=r.filter,d=r.options,y=o.page,A=o.perPage,_=u.field,S=u.order,E=p({page:y-1,size:A,sort:"".concat(_,",").concat(S)},c);return s("".concat(v,"/").concat(a,"/search/list?").concat((0,b.stringify)(E)),d).then(function(w){var O=w.json;return{data:O._embedded?O._embedded[a]:[],total:O.page.totalElements}})},getOne:function(a,r){var o=r.id,u=r.options;return s("".concat(v,"/").concat(a,"/").concat(o),u).then(function(c){var d=c.json;return{data:d}})},getMany:function(a,r){var o=r.ids,u=r.options;return s("".concat(v,"/").concat(a,"/search/findByIdIn?").concat((0,b.stringify)({ids:o})),u).then(function(c){var d=c.json;return{data:d._embedded?d._embedded[a]:[]}})},getManyReference:function(a,r){var o=r.pagination,u=r.sort,c=r.filter,d=r.target,y=r.id,A=r.options,_=o.page,S=o.perPage,E=u.field,w=u.order,O={sort:JSON.stringify([E,w]),range:JSON.stringify([(_-1)*S,_*S-1]),filter:JSON.stringify(p(p({},c),{},D({},d,y)))};return s("".concat(v,"/").concat(a,"?").concat((0,b.stringify)(O)),A).then(function(W){var L=W.json;return{data:L._embedded?L._embedded[a]:[],total:L.page.totalElements}})},update:function(a,r){var o=r.id,u=r.data,c=r.options;return s("".concat(v,"/").concat(a,"/").concat(o),p({method:"PUT",body:JSON.stringify(u)},c)).then(function(d){var y=d.json;return{data:y}})},updateMany:function(a,r){var o=r.data,u=r.options;return Promise.all(o.map(function(c){var d=c.id,y=h(c,j);return s("".concat(v,"/").concat(a,"/").concat(d),p({method:"PATCH",body:JSON.stringify(y)},u))})).then(function(c){return{data:c.map(function(d){return d.json})}})},create:function(a,r){var o=r.data,u=r.options;return s("".concat(v,"/").concat(a),p({method:"POST",body:JSON.stringify(o)},u)).then(function(c){var d=c.json;return{data:p(p({},o),{},{id:d.id})}})},delete:function(a,r){var o=r.id,u=r.options;return s("".concat(v,"/").concat(a,"/").concat(o),p({method:"DELETE"},u)).then(function(c){var d=c.json;return{data:d}})},deleteMany:function(a,r){var o=r.ids,u=r.options;return Promise.all(o.map(function(c){return s("".concat(v,"/").concat(a,"/").concat(c),p({method:"DELETE"},u))})).then(function(c){return{data:c.map(function(d){return d.json})}})},exchange:function(a){var r=a.path,o=a.query,u=a.data,c=a.options;return s((r.startsWith("/")?r:"".concat(v,"/").concat(r))+(o?"?".concat((0,b.stringify)(o)):""),u?p({body:JSON.stringify(u)},c):c).then(function(d){var y=d.json;return{data:y&&y._embedded?y._embedded[r.split("/")[0]]:y}})}}}})(q);(function(f){Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var g=h(V),b=h(z),m=h(G),j=h(q);function h(P){return P&&P.__esModule?P:{default:P}}f.default={getLocaleProvider:g.default,getFuncProvider:b.default,getAuthProvider:m.default,getDataProvider:j.default}})(k);const Q=B(k),X=f=>K(Object.assign({"./messages/en.js":()=>I(()=>import("./en-aa002614.js"),["assets/en-aa002614.js","assets/index-68a79b4e.js"]),"./messages/ru.js":()=>I(()=>import("./ru-57e9f089.js"),["assets/ru-57e9f089.js","assets/index-68a79b4e.js"])}),`./messages/${f}.js`).then(g=>g.default),{getLocaleProvider:Y,getFuncProvider:Z,getAuthProvider:tt,getDataProvider:et}=Q,ot=f=>{const g=Y({getLocaleMessages:X,...f}),b=Z(f),m=tt(f),j=et({localeProvider:g,authProvider:m,...f});return{localeProvider:g,funcProvider:b,authProvider:m,dataProvider:j}};export{ot as default};
