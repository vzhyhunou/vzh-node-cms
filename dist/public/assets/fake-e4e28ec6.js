import{g as Ot,c as Pt,_ as Et,a as mt}from"./index-950f6160.js";import{b as $t,i as kt,f as Tt}from"./back-8bcc8924.js";var wt={exports:{}};(function(B,M){(function(A,I){B.exports=I()})(Pt,function(){return function(){var A={8552:function(n,o,t){var r=t(852)(t(5639),"DataView");n.exports=r},1989:function(n,o,t){var r=t(1789),u=t(401),c=t(7667),i=t(1327),e=t(1866);function s(l){var f=-1,v=l==null?0:l.length;for(this.clear();++f<v;){var w=l[f];this.set(w[0],w[1])}}s.prototype.clear=r,s.prototype.delete=u,s.prototype.get=c,s.prototype.has=i,s.prototype.set=e,n.exports=s},8407:function(n,o,t){var r=t(7040),u=t(4125),c=t(2117),i=t(7518),e=t(4705);function s(l){var f=-1,v=l==null?0:l.length;for(this.clear();++f<v;){var w=l[f];this.set(w[0],w[1])}}s.prototype.clear=r,s.prototype.delete=u,s.prototype.get=c,s.prototype.has=i,s.prototype.set=e,n.exports=s},7071:function(n,o,t){var r=t(852)(t(5639),"Map");n.exports=r},3369:function(n,o,t){var r=t(4785),u=t(1285),c=t(6e3),i=t(9916),e=t(5265);function s(l){var f=-1,v=l==null?0:l.length;for(this.clear();++f<v;){var w=l[f];this.set(w[0],w[1])}}s.prototype.clear=r,s.prototype.delete=u,s.prototype.get=c,s.prototype.has=i,s.prototype.set=e,n.exports=s},3818:function(n,o,t){var r=t(852)(t(5639),"Promise");n.exports=r},8525:function(n,o,t){var r=t(852)(t(5639),"Set");n.exports=r},8668:function(n,o,t){var r=t(3369),u=t(619),c=t(2385);function i(e){var s=-1,l=e==null?0:e.length;for(this.__data__=new r;++s<l;)this.add(e[s])}i.prototype.add=i.prototype.push=u,i.prototype.has=c,n.exports=i},6384:function(n,o,t){var r=t(8407),u=t(7465),c=t(3779),i=t(7599),e=t(4758),s=t(4309);function l(f){var v=this.__data__=new r(f);this.size=v.size}l.prototype.clear=u,l.prototype.delete=c,l.prototype.get=i,l.prototype.has=e,l.prototype.set=s,n.exports=l},2705:function(n,o,t){var r=t(5639).Symbol;n.exports=r},1149:function(n,o,t){var r=t(5639).Uint8Array;n.exports=r},577:function(n,o,t){var r=t(852)(t(5639),"WeakMap");n.exports=r},7412:function(n){n.exports=function(o,t){for(var r=-1,u=o==null?0:o.length;++r<u&&t(o[r],r,o)!==!1;);return o}},4963:function(n){n.exports=function(o,t){for(var r=-1,u=o==null?0:o.length,c=0,i=[];++r<u;){var e=o[r];t(e,r,o)&&(i[c++]=e)}return i}},4636:function(n,o,t){var r=t(2545),u=t(5694),c=t(1469),i=t(4144),e=t(5776),s=t(6719),l=Object.prototype.hasOwnProperty;n.exports=function(f,v){var w=c(f),g=!w&&u(f),O=!w&&!g&&i(f),m=!w&&!g&&!O&&s(f),S=w||g||O||m,k=S?r(f.length,String):[],D=k.length;for(var T in f)!v&&!l.call(f,T)||S&&(T=="length"||O&&(T=="offset"||T=="parent")||m&&(T=="buffer"||T=="byteLength"||T=="byteOffset")||e(T,D))||k.push(T);return k}},9932:function(n){n.exports=function(o,t){for(var r=-1,u=o==null?0:o.length,c=Array(u);++r<u;)c[r]=t(o[r],r,o);return c}},2488:function(n){n.exports=function(o,t){for(var r=-1,u=t.length,c=o.length;++r<u;)o[c+r]=t[r];return o}},2908:function(n){n.exports=function(o,t){for(var r=-1,u=o==null?0:o.length;++r<u;)if(t(o[r],r,o))return!0;return!1}},4865:function(n,o,t){var r=t(9465),u=t(7813),c=Object.prototype.hasOwnProperty;n.exports=function(i,e,s){var l=i[e];c.call(i,e)&&u(l,s)&&(s!==void 0||e in i)||r(i,e,s)}},8470:function(n,o,t){var r=t(7813);n.exports=function(u,c){for(var i=u.length;i--;)if(r(u[i][0],c))return i;return-1}},4037:function(n,o,t){var r=t(8363),u=t(3674);n.exports=function(c,i){return c&&r(i,u(i),c)}},3886:function(n,o,t){var r=t(8363),u=t(1704);n.exports=function(c,i){return c&&r(i,u(i),c)}},9465:function(n,o,t){var r=t(8777);n.exports=function(u,c,i){c=="__proto__"&&r?r(u,c,{configurable:!0,enumerable:!0,value:i,writable:!0}):u[c]=i}},5990:function(n,o,t){var r=t(6384),u=t(7412),c=t(4865),i=t(4037),e=t(3886),s=t(4626),l=t(278),f=t(8805),v=t(1911),w=t(8234),g=t(6904),O=t(4160),m=t(3824),S=t(9148),k=t(8517),D=t(1469),T=t(4144),E=t(6688),C=t(3218),H=t(2928),R=t(3674),N=t(1704),J="[object Arguments]",rt="[object Function]",Z="[object Object]",z={};z[J]=z["[object Array]"]=z["[object ArrayBuffer]"]=z["[object DataView]"]=z["[object Boolean]"]=z["[object Date]"]=z["[object Float32Array]"]=z["[object Float64Array]"]=z["[object Int8Array]"]=z["[object Int16Array]"]=z["[object Int32Array]"]=z["[object Map]"]=z["[object Number]"]=z[Z]=z["[object RegExp]"]=z["[object Set]"]=z["[object String]"]=z["[object Symbol]"]=z["[object Uint8Array]"]=z["[object Uint8ClampedArray]"]=z["[object Uint16Array]"]=z["[object Uint32Array]"]=!0,z["[object Error]"]=z[rt]=z["[object WeakMap]"]=!1,n.exports=function it(q,nt,ft,at,ut,ot){var h,p=1&nt,y=2&nt,a=4&nt;if(ft&&(h=ut?ft(q,at,ut,ot):ft(q)),h!==void 0)return h;if(!C(q))return q;var d=D(q);if(d){if(h=m(q),!p)return l(q,h)}else{var _=O(q),j=_==rt||_=="[object GeneratorFunction]";if(T(q))return s(q,p);if(_==Z||_==J||j&&!ut){if(h=y||j?{}:k(q),!p)return y?v(q,e(h,q)):f(q,i(h,q))}else{if(!z[_])return ut?q:{};h=S(q,_,p)}}ot||(ot=new r);var x=ot.get(q);if(x)return x;ot.set(q,h),H(q)?q.forEach(function(P){h.add(it(P,nt,ft,P,q,ot))}):E(q)&&q.forEach(function(P,L){h.set(L,it(P,nt,ft,L,q,ot))});var b=d?void 0:(a?y?g:w:y?N:R)(q);return u(b||q,function(P,L){b&&(P=q[L=P]),c(h,L,it(P,nt,ft,L,q,ot))}),h}},3118:function(n,o,t){var r=t(3218),u=Object.create,c=function(){function i(){}return function(e){if(!r(e))return{};if(u)return u(e);i.prototype=e;var s=new i;return i.prototype=void 0,s}}();n.exports=c},7786:function(n,o,t){var r=t(1811),u=t(327);n.exports=function(c,i){for(var e=0,s=(i=r(i,c)).length;c!=null&&e<s;)c=c[u(i[e++])];return e&&e==s?c:void 0}},8866:function(n,o,t){var r=t(2488),u=t(1469);n.exports=function(c,i,e){var s=i(c);return u(c)?s:r(s,e(c))}},4239:function(n,o,t){var r=t(2705),u=t(9607),c=t(2333),i=r?r.toStringTag:void 0;n.exports=function(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":i&&i in Object(e)?u(e):c(e)}},9454:function(n,o,t){var r=t(4239),u=t(7005);n.exports=function(c){return u(c)&&r(c)=="[object Arguments]"}},939:function(n,o,t){var r=t(2492),u=t(7005);n.exports=function c(i,e,s,l,f){return i===e||(i==null||e==null||!u(i)&&!u(e)?i!=i&&e!=e:r(i,e,s,l,c,f))}},2492:function(n,o,t){var r=t(6384),u=t(7114),c=t(8351),i=t(6096),e=t(4160),s=t(1469),l=t(4144),f=t(6719),v="[object Arguments]",w="[object Array]",g="[object Object]",O=Object.prototype.hasOwnProperty;n.exports=function(m,S,k,D,T,E){var C=s(m),H=s(S),R=C?w:e(m),N=H?w:e(S),J=(R=R==v?g:R)==g,rt=(N=N==v?g:N)==g,Z=R==N;if(Z&&l(m)){if(!l(S))return!1;C=!0,J=!1}if(Z&&!J)return E||(E=new r),C||f(m)?u(m,S,k,D,T,E):c(m,S,R,k,D,T,E);if(!(1&k)){var z=J&&O.call(m,"__wrapped__"),it=rt&&O.call(S,"__wrapped__");if(z||it){var q=z?m.value():m,nt=it?S.value():S;return E||(E=new r),T(q,nt,k,D,E)}}return!!Z&&(E||(E=new r),i(m,S,k,D,T,E))}},5588:function(n,o,t){var r=t(4160),u=t(7005);n.exports=function(c){return u(c)&&r(c)=="[object Map]"}},2958:function(n,o,t){var r=t(6384),u=t(939);n.exports=function(c,i,e,s){var l=e.length,f=l,v=!s;if(c==null)return!f;for(c=Object(c);l--;){var w=e[l];if(v&&w[2]?w[1]!==c[w[0]]:!(w[0]in c))return!1}for(;++l<f;){var g=(w=e[l])[0],O=c[g],m=w[1];if(v&&w[2]){if(O===void 0&&!(g in c))return!1}else{var S=new r;if(s)var k=s(O,m,g,c,i,S);if(!(k===void 0?u(m,O,3,s,S):k))return!1}}return!0}},8458:function(n,o,t){var r=t(3560),u=t(5346),c=t(3218),i=t(346),e=/^\[object .+?Constructor\]$/,s=Function.prototype,l=Object.prototype,f=s.toString,v=l.hasOwnProperty,w=RegExp("^"+f.call(v).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");n.exports=function(g){return!(!c(g)||u(g))&&(r(g)?w:e).test(i(g))}},9221:function(n,o,t){var r=t(4160),u=t(7005);n.exports=function(c){return u(c)&&r(c)=="[object Set]"}},8749:function(n,o,t){var r=t(4239),u=t(1780),c=t(7005),i={};i["[object Float32Array]"]=i["[object Float64Array]"]=i["[object Int8Array]"]=i["[object Int16Array]"]=i["[object Int32Array]"]=i["[object Uint8Array]"]=i["[object Uint8ClampedArray]"]=i["[object Uint16Array]"]=i["[object Uint32Array]"]=!0,i["[object Arguments]"]=i["[object Array]"]=i["[object ArrayBuffer]"]=i["[object Boolean]"]=i["[object DataView]"]=i["[object Date]"]=i["[object Error]"]=i["[object Function]"]=i["[object Map]"]=i["[object Number]"]=i["[object Object]"]=i["[object RegExp]"]=i["[object Set]"]=i["[object String]"]=i["[object WeakMap]"]=!1,n.exports=function(e){return c(e)&&u(e.length)&&!!i[r(e)]}},280:function(n,o,t){var r=t(5726),u=t(6916),c=Object.prototype.hasOwnProperty;n.exports=function(i){if(!r(i))return u(i);var e=[];for(var s in Object(i))c.call(i,s)&&s!="constructor"&&e.push(s);return e}},313:function(n,o,t){var r=t(3218),u=t(5726),c=t(3498),i=Object.prototype.hasOwnProperty;n.exports=function(e){if(!r(e))return c(e);var s=u(e),l=[];for(var f in e)(f!="constructor"||!s&&i.call(e,f))&&l.push(f);return l}},1573:function(n,o,t){var r=t(2958),u=t(1499),c=t(2634);n.exports=function(i){var e=u(i);return e.length==1&&e[0][2]?c(e[0][0],e[0][1]):function(s){return s===i||r(s,i,e)}}},2545:function(n){n.exports=function(o,t){for(var r=-1,u=Array(o);++r<o;)u[r]=t(r);return u}},531:function(n,o,t){var r=t(2705),u=t(9932),c=t(1469),i=t(3448),e=r?r.prototype:void 0,s=e?e.toString:void 0;n.exports=function l(f){if(typeof f=="string")return f;if(c(f))return u(f,l)+"";if(i(f))return s?s.call(f):"";var v=f+"";return v=="0"&&1/f==-1/0?"-0":v}},1717:function(n){n.exports=function(o){return function(t){return o(t)}}},4757:function(n){n.exports=function(o,t){return o.has(t)}},1811:function(n,o,t){var r=t(1469),u=t(5403),c=t(5514),i=t(9833);n.exports=function(e,s){return r(e)?e:u(e,s)?[e]:c(i(e))}},4318:function(n,o,t){var r=t(1149);n.exports=function(u){var c=new u.constructor(u.byteLength);return new r(c).set(new r(u)),c}},4626:function(n,o,t){n=t.nmd(n);var r=t(5639),u=o&&!o.nodeType&&o,c=u&&n&&!n.nodeType&&n,i=c&&c.exports===u?r.Buffer:void 0,e=i?i.allocUnsafe:void 0;n.exports=function(s,l){if(l)return s.slice();var f=s.length,v=e?e(f):new s.constructor(f);return s.copy(v),v}},7157:function(n,o,t){var r=t(4318);n.exports=function(u,c){var i=c?r(u.buffer):u.buffer;return new u.constructor(i,u.byteOffset,u.byteLength)}},3147:function(n){var o=/\w*$/;n.exports=function(t){var r=new t.constructor(t.source,o.exec(t));return r.lastIndex=t.lastIndex,r}},419:function(n,o,t){var r=t(2705),u=r?r.prototype:void 0,c=u?u.valueOf:void 0;n.exports=function(i){return c?Object(c.call(i)):{}}},7133:function(n,o,t){var r=t(4318);n.exports=function(u,c){var i=c?r(u.buffer):u.buffer;return new u.constructor(i,u.byteOffset,u.length)}},278:function(n){n.exports=function(o,t){var r=-1,u=o.length;for(t||(t=Array(u));++r<u;)t[r]=o[r];return t}},8363:function(n,o,t){var r=t(4865),u=t(9465);n.exports=function(c,i,e,s){var l=!e;e||(e={});for(var f=-1,v=i.length;++f<v;){var w=i[f],g=s?s(e[w],c[w],w,e,c):void 0;g===void 0&&(g=c[w]),l?u(e,w,g):r(e,w,g)}return e}},8805:function(n,o,t){var r=t(8363),u=t(9551);n.exports=function(c,i){return r(c,u(c),i)}},1911:function(n,o,t){var r=t(8363),u=t(1442);n.exports=function(c,i){return r(c,u(c),i)}},4429:function(n,o,t){var r=t(5639)["__core-js_shared__"];n.exports=r},8777:function(n,o,t){var r=t(852),u=function(){try{var c=r(Object,"defineProperty");return c({},"",{}),c}catch{}}();n.exports=u},7114:function(n,o,t){var r=t(8668),u=t(2908),c=t(4757);n.exports=function(i,e,s,l,f,v){var w=1&s,g=i.length,O=e.length;if(g!=O&&!(w&&O>g))return!1;var m=v.get(i),S=v.get(e);if(m&&S)return m==e&&S==i;var k=-1,D=!0,T=2&s?new r:void 0;for(v.set(i,e),v.set(e,i);++k<g;){var E=i[k],C=e[k];if(l)var H=w?l(C,E,k,e,i,v):l(E,C,k,i,e,v);if(H!==void 0){if(H)continue;D=!1;break}if(T){if(!u(e,function(R,N){if(!c(T,N)&&(E===R||f(E,R,s,l,v)))return T.push(N)})){D=!1;break}}else if(E!==C&&!f(E,C,s,l,v)){D=!1;break}}return v.delete(i),v.delete(e),D}},8351:function(n,o,t){var r=t(2705),u=t(1149),c=t(7813),i=t(7114),e=t(8776),s=t(1814),l=r?r.prototype:void 0,f=l?l.valueOf:void 0;n.exports=function(v,w,g,O,m,S,k){switch(g){case"[object DataView]":if(v.byteLength!=w.byteLength||v.byteOffset!=w.byteOffset)return!1;v=v.buffer,w=w.buffer;case"[object ArrayBuffer]":return!(v.byteLength!=w.byteLength||!S(new u(v),new u(w)));case"[object Boolean]":case"[object Date]":case"[object Number]":return c(+v,+w);case"[object Error]":return v.name==w.name&&v.message==w.message;case"[object RegExp]":case"[object String]":return v==w+"";case"[object Map]":var D=e;case"[object Set]":var T=1&O;if(D||(D=s),v.size!=w.size&&!T)return!1;var E=k.get(v);if(E)return E==w;O|=2,k.set(v,w);var C=i(D(v),D(w),O,m,S,k);return k.delete(v),C;case"[object Symbol]":if(f)return f.call(v)==f.call(w)}return!1}},6096:function(n,o,t){var r=t(8234),u=Object.prototype.hasOwnProperty;n.exports=function(c,i,e,s,l,f){var v=1&e,w=r(c),g=w.length;if(g!=r(i).length&&!v)return!1;for(var O=g;O--;){var m=w[O];if(!(v?m in i:u.call(i,m)))return!1}var S=f.get(c),k=f.get(i);if(S&&k)return S==i&&k==c;var D=!0;f.set(c,i),f.set(i,c);for(var T=v;++O<g;){var E=c[m=w[O]],C=i[m];if(s)var H=v?s(C,E,m,i,c,f):s(E,C,m,c,i,f);if(!(H===void 0?E===C||l(E,C,e,s,f):H)){D=!1;break}T||(T=m=="constructor")}if(D&&!T){var R=c.constructor,N=i.constructor;R==N||!("constructor"in c)||!("constructor"in i)||typeof R=="function"&&R instanceof R&&typeof N=="function"&&N instanceof N||(D=!1)}return f.delete(c),f.delete(i),D}},1957:function(n,o,t){var r=typeof t.g=="object"&&t.g&&t.g.Object===Object&&t.g;n.exports=r},8234:function(n,o,t){var r=t(8866),u=t(9551),c=t(3674);n.exports=function(i){return r(i,c,u)}},6904:function(n,o,t){var r=t(8866),u=t(1442),c=t(1704);n.exports=function(i){return r(i,c,u)}},5050:function(n,o,t){var r=t(7019);n.exports=function(u,c){var i=u.__data__;return r(c)?i[typeof c=="string"?"string":"hash"]:i.map}},1499:function(n,o,t){var r=t(9162),u=t(3674);n.exports=function(c){for(var i=u(c),e=i.length;e--;){var s=i[e],l=c[s];i[e]=[s,l,r(l)]}return i}},852:function(n,o,t){var r=t(8458),u=t(7801);n.exports=function(c,i){var e=u(c,i);return r(e)?e:void 0}},5924:function(n,o,t){var r=t(5569)(Object.getPrototypeOf,Object);n.exports=r},9607:function(n,o,t){var r=t(2705),u=Object.prototype,c=u.hasOwnProperty,i=u.toString,e=r?r.toStringTag:void 0;n.exports=function(s){var l=c.call(s,e),f=s[e];try{s[e]=void 0;var v=!0}catch{}var w=i.call(s);return v&&(l?s[e]=f:delete s[e]),w}},9551:function(n,o,t){var r=t(4963),u=t(479),c=Object.prototype.propertyIsEnumerable,i=Object.getOwnPropertySymbols,e=i?function(s){return s==null?[]:(s=Object(s),r(i(s),function(l){return c.call(s,l)}))}:u;n.exports=e},1442:function(n,o,t){var r=t(2488),u=t(5924),c=t(9551),i=t(479),e=Object.getOwnPropertySymbols?function(s){for(var l=[];s;)r(l,c(s)),s=u(s);return l}:i;n.exports=e},4160:function(n,o,t){var r=t(8552),u=t(7071),c=t(3818),i=t(8525),e=t(577),s=t(4239),l=t(346),f="[object Map]",v="[object Promise]",w="[object Set]",g="[object WeakMap]",O="[object DataView]",m=l(r),S=l(u),k=l(c),D=l(i),T=l(e),E=s;(r&&E(new r(new ArrayBuffer(1)))!=O||u&&E(new u)!=f||c&&E(c.resolve())!=v||i&&E(new i)!=w||e&&E(new e)!=g)&&(E=function(C){var H=s(C),R=H=="[object Object]"?C.constructor:void 0,N=R?l(R):"";if(N)switch(N){case m:return O;case S:return f;case k:return v;case D:return w;case T:return g}return H}),n.exports=E},7801:function(n){n.exports=function(o,t){return o==null?void 0:o[t]}},1789:function(n,o,t){var r=t(4536);n.exports=function(){this.__data__=r?r(null):{},this.size=0}},401:function(n){n.exports=function(o){var t=this.has(o)&&delete this.__data__[o];return this.size-=t?1:0,t}},7667:function(n,o,t){var r=t(4536),u=Object.prototype.hasOwnProperty;n.exports=function(c){var i=this.__data__;if(r){var e=i[c];return e==="__lodash_hash_undefined__"?void 0:e}return u.call(i,c)?i[c]:void 0}},1327:function(n,o,t){var r=t(4536),u=Object.prototype.hasOwnProperty;n.exports=function(c){var i=this.__data__;return r?i[c]!==void 0:u.call(i,c)}},1866:function(n,o,t){var r=t(4536);n.exports=function(u,c){var i=this.__data__;return this.size+=this.has(u)?0:1,i[u]=r&&c===void 0?"__lodash_hash_undefined__":c,this}},3824:function(n){var o=Object.prototype.hasOwnProperty;n.exports=function(t){var r=t.length,u=new t.constructor(r);return r&&typeof t[0]=="string"&&o.call(t,"index")&&(u.index=t.index,u.input=t.input),u}},9148:function(n,o,t){var r=t(4318),u=t(7157),c=t(3147),i=t(419),e=t(7133);n.exports=function(s,l,f){var v=s.constructor;switch(l){case"[object ArrayBuffer]":return r(s);case"[object Boolean]":case"[object Date]":return new v(+s);case"[object DataView]":return u(s,f);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return e(s,f);case"[object Map]":case"[object Set]":return new v;case"[object Number]":case"[object String]":return new v(s);case"[object RegExp]":return c(s);case"[object Symbol]":return i(s)}}},8517:function(n,o,t){var r=t(3118),u=t(5924),c=t(5726);n.exports=function(i){return typeof i.constructor!="function"||c(i)?{}:r(u(i))}},5776:function(n){var o=/^(?:0|[1-9]\d*)$/;n.exports=function(t,r){var u=typeof t;return!!(r=r??9007199254740991)&&(u=="number"||u!="symbol"&&o.test(t))&&t>-1&&t%1==0&&t<r}},5403:function(n,o,t){var r=t(1469),u=t(3448),c=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;n.exports=function(e,s){if(r(e))return!1;var l=typeof e;return!(l!="number"&&l!="symbol"&&l!="boolean"&&e!=null&&!u(e))||i.test(e)||!c.test(e)||s!=null&&e in Object(s)}},7019:function(n){n.exports=function(o){var t=typeof o;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?o!=="__proto__":o===null}},5346:function(n,o,t){var r,u=t(4429),c=(r=/[^.]+$/.exec(u&&u.keys&&u.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";n.exports=function(i){return!!c&&c in i}},5726:function(n){var o=Object.prototype;n.exports=function(t){var r=t&&t.constructor;return t===(typeof r=="function"&&r.prototype||o)}},9162:function(n,o,t){var r=t(3218);n.exports=function(u){return u==u&&!r(u)}},7040:function(n){n.exports=function(){this.__data__=[],this.size=0}},4125:function(n,o,t){var r=t(8470),u=Array.prototype.splice;n.exports=function(c){var i=this.__data__,e=r(i,c);return!(e<0)&&(e==i.length-1?i.pop():u.call(i,e,1),--this.size,!0)}},2117:function(n,o,t){var r=t(8470);n.exports=function(u){var c=this.__data__,i=r(c,u);return i<0?void 0:c[i][1]}},7518:function(n,o,t){var r=t(8470);n.exports=function(u){return r(this.__data__,u)>-1}},4705:function(n,o,t){var r=t(8470);n.exports=function(u,c){var i=this.__data__,e=r(i,u);return e<0?(++this.size,i.push([u,c])):i[e][1]=c,this}},4785:function(n,o,t){var r=t(1989),u=t(8407),c=t(7071);n.exports=function(){this.size=0,this.__data__={hash:new r,map:new(c||u),string:new r}}},1285:function(n,o,t){var r=t(5050);n.exports=function(u){var c=r(this,u).delete(u);return this.size-=c?1:0,c}},6e3:function(n,o,t){var r=t(5050);n.exports=function(u){return r(this,u).get(u)}},9916:function(n,o,t){var r=t(5050);n.exports=function(u){return r(this,u).has(u)}},5265:function(n,o,t){var r=t(5050);n.exports=function(u,c){var i=r(this,u),e=i.size;return i.set(u,c),this.size+=i.size==e?0:1,this}},8776:function(n){n.exports=function(o){var t=-1,r=Array(o.size);return o.forEach(function(u,c){r[++t]=[c,u]}),r}},2634:function(n){n.exports=function(o,t){return function(r){return r!=null&&r[o]===t&&(t!==void 0||o in Object(r))}}},4523:function(n,o,t){var r=t(8306);n.exports=function(u){var c=r(u,function(e){return i.size===500&&i.clear(),e}),i=c.cache;return c}},4536:function(n,o,t){var r=t(852)(Object,"create");n.exports=r},6916:function(n,o,t){var r=t(5569)(Object.keys,Object);n.exports=r},3498:function(n){n.exports=function(o){var t=[];if(o!=null)for(var r in Object(o))t.push(r);return t}},1167:function(n,o,t){n=t.nmd(n);var r=t(1957),u=o&&!o.nodeType&&o,c=u&&n&&!n.nodeType&&n,i=c&&c.exports===u&&r.process,e=function(){try{var s=c&&c.require&&c.require("util").types;return s||i&&i.binding&&i.binding("util")}catch{}}();n.exports=e},2333:function(n){var o=Object.prototype.toString;n.exports=function(t){return o.call(t)}},5569:function(n){n.exports=function(o,t){return function(r){return o(t(r))}}},5639:function(n,o,t){var r=t(1957),u=typeof self=="object"&&self&&self.Object===Object&&self,c=r||u||Function("return this")();n.exports=c},619:function(n){n.exports=function(o){return this.__data__.set(o,"__lodash_hash_undefined__"),this}},2385:function(n){n.exports=function(o){return this.__data__.has(o)}},1814:function(n){n.exports=function(o){var t=-1,r=Array(o.size);return o.forEach(function(u){r[++t]=u}),r}},7465:function(n,o,t){var r=t(8407);n.exports=function(){this.__data__=new r,this.size=0}},3779:function(n){n.exports=function(o){var t=this.__data__,r=t.delete(o);return this.size=t.size,r}},7599:function(n){n.exports=function(o){return this.__data__.get(o)}},4758:function(n){n.exports=function(o){return this.__data__.has(o)}},4309:function(n,o,t){var r=t(8407),u=t(7071),c=t(3369);n.exports=function(i,e){var s=this.__data__;if(s instanceof r){var l=s.__data__;if(!u||l.length<199)return l.push([i,e]),this.size=++s.size,this;s=this.__data__=new c(l)}return s.set(i,e),this.size=s.size,this}},5514:function(n,o,t){var r=t(4523),u=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,c=/\\(\\)?/g,i=r(function(e){var s=[];return e.charCodeAt(0)===46&&s.push(""),e.replace(u,function(l,f,v,w){s.push(v?w.replace(c,"$1"):f||l)}),s});n.exports=i},327:function(n,o,t){var r=t(3448);n.exports=function(u){if(typeof u=="string"||r(u))return u;var c=u+"";return c=="0"&&1/u==-1/0?"-0":c}},346:function(n){var o=Function.prototype.toString;n.exports=function(t){if(t!=null){try{return o.call(t)}catch{}try{return t+""}catch{}}return""}},7813:function(n){n.exports=function(o,t){return o===t||o!=o&&t!=t}},7361:function(n,o,t){var r=t(7786);n.exports=function(u,c,i){var e=u==null?void 0:r(u,c);return e===void 0?i:e}},5694:function(n,o,t){var r=t(9454),u=t(7005),c=Object.prototype,i=c.hasOwnProperty,e=c.propertyIsEnumerable,s=r(function(){return arguments}())?r:function(l){return u(l)&&i.call(l,"callee")&&!e.call(l,"callee")};n.exports=s},1469:function(n){var o=Array.isArray;n.exports=o},8612:function(n,o,t){var r=t(3560),u=t(1780);n.exports=function(c){return c!=null&&u(c.length)&&!r(c)}},4144:function(n,o,t){n=t.nmd(n);var r=t(5639),u=t(5062),c=o&&!o.nodeType&&o,i=c&&n&&!n.nodeType&&n,e=i&&i.exports===c?r.Buffer:void 0,s=(e?e.isBuffer:void 0)||u;n.exports=s},3560:function(n,o,t){var r=t(4239),u=t(3218);n.exports=function(c){if(!u(c))return!1;var i=r(c);return i=="[object Function]"||i=="[object GeneratorFunction]"||i=="[object AsyncFunction]"||i=="[object Proxy]"}},1780:function(n){n.exports=function(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=9007199254740991}},6688:function(n,o,t){var r=t(5588),u=t(1717),c=t(1167),i=c&&c.isMap,e=i?u(i):r;n.exports=e},3218:function(n){n.exports=function(o){var t=typeof o;return o!=null&&(t=="object"||t=="function")}},7005:function(n){n.exports=function(o){return o!=null&&typeof o=="object"}},2928:function(n,o,t){var r=t(9221),u=t(1717),c=t(1167),i=c&&c.isSet,e=i?u(i):r;n.exports=e},3448:function(n,o,t){var r=t(4239),u=t(7005);n.exports=function(c){return typeof c=="symbol"||u(c)&&r(c)=="[object Symbol]"}},6719:function(n,o,t){var r=t(8749),u=t(1717),c=t(1167),i=c&&c.isTypedArray,e=i?u(i):r;n.exports=e},3674:function(n,o,t){var r=t(4636),u=t(280),c=t(8612);n.exports=function(i){return c(i)?r(i):u(i)}},1704:function(n,o,t){var r=t(4636),u=t(313),c=t(8612);n.exports=function(i){return c(i)?r(i,!0):u(i)}},6410:function(n,o,t){var r=t(5990),u=t(1573);n.exports=function(c){return u(r(c,1))}},8306:function(n,o,t){var r=t(3369);function u(c,i){if(typeof c!="function"||i!=null&&typeof i!="function")throw new TypeError("Expected a function");var e=function(){var s=arguments,l=i?i.apply(this,s):s[0],f=e.cache;if(f.has(l))return f.get(l);var v=c.apply(this,s);return e.cache=f.set(l,v)||f,v};return e.cache=new(u.Cache||r),e}u.Cache=r,n.exports=u},479:function(n){n.exports=function(){return[]}},5062:function(n){n.exports=function(){return!1}},9833:function(n,o,t){var r=t(531);n.exports=function(u){return u==null?"":r(u)}}},I={};function U(n){var o=I[n];if(o!==void 0)return o.exports;var t=I[n]={id:n,loaded:!1,exports:{}};return A[n](t,t.exports,U),t.loaded=!0,t.exports}U.n=function(n){var o=n&&n.__esModule?function(){return n.default}:function(){return n};return U.d(o,{a:o}),o},U.d=function(n,o){for(var t in o)U.o(o,t)&&!U.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:o[t]})},U.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),U.o=function(n,o){return Object.prototype.hasOwnProperty.call(n,o)},U.r=function(n){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},U.nmd=function(n){return n.paths=[],n.children||(n.children=[]),n};var $={};return function(){U.r($),U.d($,{Collection:function(){return w},FetchServer:function(){return ut},Server:function(){return N},Single:function(){return m},default:function(){return ot}});var n=U(7361),o=U.n(n),t=U(6410),r=U.n(t);function u(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function c(h,p){for(var y=0;y<p.length;y++){var a=p[y];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(h,a.key,a)}}function i(h,p,y){return p in h?Object.defineProperty(h,p,{value:y,enumerable:!0,configurable:!0,writable:!0}):h[p]=y,h}function e(h,p){return function(y){if(Array.isArray(y))return y}(h)||function(y,a){var d=y==null?null:typeof Symbol<"u"&&y[Symbol.iterator]||y["@@iterator"];if(d!=null){var _,j,x=[],b=!0,P=!1;try{for(d=d.call(y);!(b=(_=d.next()).done)&&(x.push(_.value),!a||x.length!==a);b=!0);}catch(L){P=!0,j=L}finally{try{b||d.return==null||d.return()}finally{if(P)throw j}}return x}}(h,p)||function(y,a){if(y){if(typeof y=="string")return s(y,a);var d=Object.prototype.toString.call(y).slice(8,-1);if(d==="Object"&&y.constructor&&(d=y.constructor.name),d==="Map"||d==="Set")return Array.from(y);if(d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return s(y,a)}}(h,p)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function s(h,p){(p==null||p>h.length)&&(p=h.length);for(var y=0,a=new Array(p);y<p;y++)a[y]=h[y];return a}function l(h){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},l(h)}var f=function(h,p){if(h.indexOf("_q")!==-1){var y=h.replace(/(_q)$/,""),a=new RegExp(p,"i");return function(F){var V;return((V=o()(F,y))===null||V===void 0?void 0:V.match(a))!==null}}if(h.indexOf("_lte")!==-1){var d=h.replace(/(_lte)$/,"");return function(F){return o()(F,d)<=p}}if(h.indexOf("_gte")!==-1){var _=h.replace(/(_gte)$/,"");return function(F){return o()(F,_)>=p}}if(h.indexOf("_lt")!==-1){var j=h.replace(/(_lt)$/,"");return function(F){return o()(F,j)<p}}if(h.indexOf("_gt")!==-1){var x=h.replace(/(_gt)$/,"");return function(F){return o()(F,x)>p}}if(h.indexOf("_neq_any")!==-1){var b=h.replace(/(_neq_any)$/,""),P=Array.isArray(p)?p:[p];return function(F){return P.every(function(V){return o()(F,b)!=V})}}if(h.indexOf("_neq")!==-1){var L=h.replace(/(_neq)$/,"");return function(F){return o()(F,L)!=p}}if(h.indexOf("_eq_any")!==-1){var G=h.replace(/(_eq_any)$/,""),W=Array.isArray(p)?p:[p];return function(F){return W.some(function(V){return o()(F,G)==V})}}if(h.indexOf("_eq")!==-1){var et=h.replace(/(_eq)$/,"");return function(F){return o()(F,et)==p}}if(h.indexOf("_inc_any")!==-1){var tt=h.replace(/(_inc_any)$/,""),K=Array.isArray(p)?p:[p];return function(F){return K.some(function(V){return o()(F,tt).includes(V)})}}if(h.indexOf("_inc")!==-1){var ct=h.replace(/(_inc)$/,""),X=Array.isArray(p)?p:[p];return function(F){return X.every(function(V){return o()(F,ct).includes(V)})}}if(h.indexOf("_ninc_any")!==-1){var Y=h.replace(/(_ninc_any)$/,""),st=Array.isArray(p)?p:[p];return function(F){return st.every(function(V){return!o()(F,Y).includes(V)})}}return Array.isArray(p)?function(F){return Array.isArray(o()(F,h))?(V=function(lt){return ht=o()(F,h),yt=function(Q){return Q==lt},ht.reduce(function(Q,dt){return Q||yt(dt)},!1);var ht,yt},p.reduce(function(lt,ht){return lt&&V(ht)},!0)):p.filter(function(lt){return lt==o()(F,h)}).length>0;var V}:l(p)==="object"?function(F){return r()(p)(o()(F,h))}:function(F){return Array.isArray(o()(F,h))&&typeof p=="string"?o()(F,h).indexOf(p)!==-1:typeof o()(F,h)=="boolean"&&typeof p=="string"?o()(F,h)==(p==="true"):o()(F,h)==p}};function v(h,p){if(typeof p=="function")return h.filter(p);if(p instanceof Object){var y=Object.keys(p).map(function(a){if(a==="q"){var d=new RegExp(p.q,"i");return function x(b){for(var P in b)if(l(b[P])==="object"&&x(b[P])||b[P]&&b[P].match&&b[P].match(d)!==null)return!0;return!1}}var _=a.split("."),j=p[a];return _.length>1?function(x){var b=function(W,et){return W.reduce(function(tt,K,ct){if(tt!=null)return tt;var X=W.slice(0,ct+1).join("."),Y=W.slice(ct+1).join("."),st=o()(et,X);return Array.isArray(st)&&ct<W.length-1?[X,Y]:void 0},void 0)}(_,x);if(b){var P=e(b,2),L=P[0],G=P[1];return v(o()(x,L),i({},G,j)).length>0}return f(a,j)(x)}:f(a,j)});return h.filter(function(a){return y.reduce(function(d,_){return d&&_(a)},!0)})}throw new Error("Unsupported filter type")}var w=function(){function h(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"id";if(u(this,h),i(this,"sequence",0),i(this,"items",[]),i(this,"server",null),i(this,"name",null),i(this,"identifierName","id"),!Array.isArray(a))throw new Error("Can't initialize a Collection with anything else than an array of items");this.identifierName=d,a.map(this.addOne.bind(this))}var p,y;return p=h,(y=[{key:"setServer",value:function(a){this.server=a}},{key:"setName",value:function(a){this.name=a}},{key:"_oneToManyEmbedder",value:function(a){var d=this;if(this.name==null)throw new Error("Can't embed references without a collection name");var _=this.name.slice(0,-1)+"_id";return function(j){if(d.server==null)throw new Error("Can't embed references without a server");var x=d.server.collections[a];if(!x)throw new Error("Can't embed a non-existing collection ".concat(a));return Array.isArray(j[a])?j[a]=x.getAll({filter:function(b){return j[a].indexOf(b[x.identifierName])!==-1}}):j[a]=x.getAll({filter:function(b){return b[_]==j[d.identifierName]}}),j}}},{key:"_manyToOneEmbedder",value:function(a){var d=this,_=a+"s",j=a+"_id";return function(x){if(d.server==null)throw new Error("Can't embed references without a server");var b=d.server.collections[_];if(!b)throw new Error("Can't embed a non-existing collection ".concat(a));try{x[a]=b.getOne(x[j])}catch{}return x}}},{key:"_itemEmbedder",value:function(a){var d=this,_=(Array.isArray(a)?a:[a]).map(function(j){return j.endsWith("s")?d._oneToManyEmbedder(j):d._manyToOneEmbedder(j)});return function(j){return _.reduce(function(x,b){return b(x)},j)}}},{key:"getCount",value:function(a){return this.getAll(a).length}},{key:"getAll",value:function(a){var d=this.items.slice(0);return a&&(a.filter&&(d=v(d,a.filter)),a.sort&&(d=function(_,j){if(typeof j=="function")return _.sort(j);if(typeof j=="string")return _.sort(function(P,L){return P[j]>L[j]?1:P[j]<L[j]?-1:0});if(Array.isArray(j)){var x=j[0],b=j[1].toLowerCase()=="asc"?1:-1;return _.sort(function(P,L){return P[x]>L[x]?b:P[x]<L[x]?-1*b:0})}throw new Error("Unsupported sort type")}(d,a.sort)),a.range&&(d=function(_,j){if(Array.isArray(j))return _.slice(j[0],j[1]!==void 0?j[1]+1:void 0);throw new Error("Unsupported range type")}(d,a.range)),d=d.map(function(_){return Object.assign({},_)}),a.embed&&this.server&&(d=d.map(this._itemEmbedder(a.embed)))),d}},{key:"getIndex",value:function(a){var d=this;return this.items.findIndex(function(_){return _[d.identifierName]==a})}},{key:"getOne",value:function(a,d){var _=this.getIndex(a);if(_===-1)throw new Error("No item with identifier ".concat(a));var j=this.items[_];return j=Object.assign({},j),d&&d.embed&&this.server&&(j=this._itemEmbedder(d.embed)(j)),j}},{key:"addOne",value:function(a){var d=a[this.identifierName];if(d!==void 0){if(this.getIndex(d)!==-1)throw new Error("An item with the identifier ".concat(d," already exists"));this.sequence=Math.max(this.sequence,d)+1}else a[this.identifierName]=this.sequence++;return this.items.push(a),Object.assign({},a)}},{key:"updateOne",value:function(a,d){var _=this.getIndex(a);if(_===-1)throw new Error("No item with identifier ".concat(a));for(var j in d)this.items[_][j]=d[j];return Object.assign({},this.items[_])}},{key:"removeOne",value:function(a){var d=this.getIndex(a);if(d===-1)throw new Error("No item with identifier ".concat(a));var _=this.items[d];return this.items.splice(d,1),a==this.sequence-1&&this.sequence--,_}}])&&c(p.prototype,y),Object.defineProperty(p,"prototype",{writable:!1}),h}();function g(h,p){for(var y=0;y<p.length;y++){var a=p[y];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(h,a.key,a)}}function O(h,p,y){return p in h?Object.defineProperty(h,p,{value:y,enumerable:!0,configurable:!0,writable:!0}):h[p]=y,h}var m=function(){function h(a){if(function(d,_){if(!(d instanceof _))throw new TypeError("Cannot call a class as a function")}(this,h),O(this,"obj",null),O(this,"server",null),O(this,"name",null),!(a instanceof Object))throw new Error("Can't initialize a Single with anything except an object");this.obj=a}var p,y;return p=h,(y=[{key:"setServer",value:function(a){this.server=a}},{key:"setName",value:function(a){this.name=a}},{key:"_oneToManyEmbedder",value:function(a){var d=this;return function(_){if(d.server==null)throw new Error("Can't embed references without a server");var j=d.server.collections[a];if(!j)throw new Error("Can't embed a non-existing collection ".concat(a));return _[a]=j.getAll({filter:function(x){return _[a].indexOf(x[j.identifierName])!==-1}}),_}}},{key:"_manyToOneEmbedder",value:function(a){var d=this,_=a+"s",j=a+"_id";return function(x){if(d.server==null)throw new Error("Can't embed references without a server");var b=d.server.collections[_];if(!b)throw new Error("Can't embed a non-existing collection ".concat(a));try{x[a]=b.getOne(x[j])}catch{}return x}}},{key:"_itemEmbedder",value:function(a){var d=this,_=(Array.isArray(a)?a:[a]).map(function(j){return j.endsWith("s")?d._oneToManyEmbedder(j):d._manyToOneEmbedder(j)});return function(j){return _.reduce(function(x,b){return b(x)},j)}}},{key:"getOnly",value:function(a){var d=this.obj;return a&&a.embed&&this.server&&(d=Object.assign({},d),d=this._itemEmbedder(a.embed)(d)),d}},{key:"updateOnly",value:function(a){for(var d in a)this.obj[d]=a[d];return this.obj}}])&&g(p.prototype,y),Object.defineProperty(p,"prototype",{writable:!1}),h}();function S(h,p){return function(y){if(Array.isArray(y))return y}(h)||function(y,a){var d=y==null?null:typeof Symbol<"u"&&y[Symbol.iterator]||y["@@iterator"];if(d!=null){var _,j,x=[],b=!0,P=!1;try{for(d=d.call(y);!(b=(_=d.next()).done)&&(x.push(_.value),!a||x.length!==a);b=!0);}catch(L){P=!0,j=L}finally{try{b||d.return==null||d.return()}finally{if(P)throw j}}return x}}(h,p)||function(y,a){if(y){if(typeof y=="string")return k(y,a);var d=Object.prototype.toString.call(y).slice(8,-1);if(d==="Object"&&y.constructor&&(d=y.constructor.name),d==="Map"||d==="Set")return Array.from(y);if(d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return k(y,a)}}(h,p)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function k(h,p){(p==null||p>h.length)&&(p=h.length);for(var y=0,a=new Array(p);y<p;y++)a[y]=h[y];return a}function D(h){if(!h)return{};var p={};return h.split("&").map(function(y){if(y.indexOf("=")===-1)p[y]=!0;else{var a=S(y.split("="),2),d=a[0],_=a[1];_.indexOf("[")!==0&&_.indexOf("{")!==0||(_=JSON.parse(_)),p[d.trim()]=_}}),p}function T(h,p){var y=typeof Symbol<"u"&&h[Symbol.iterator]||h["@@iterator"];if(!y){if(Array.isArray(h)||(y=function(b,P){if(b){if(typeof b=="string")return E(b,P);var L=Object.prototype.toString.call(b).slice(8,-1);if(L==="Object"&&b.constructor&&(L=b.constructor.name),L==="Map"||L==="Set")return Array.from(b);if(L==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(L))return E(b,P)}}(h))||p&&h&&typeof h.length=="number"){y&&(h=y);var a=0,d=function(){};return{s:d,n:function(){return a>=h.length?{done:!0}:{done:!1,value:h[a++]}},e:function(b){throw b},f:d}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var _,j=!0,x=!1;return{s:function(){y=y.call(h)},n:function(){var b=y.next();return j=b.done,b},e:function(b){x=!0,_=b},f:function(){try{j||y.return==null||y.return()}finally{if(x)throw _}}}}function E(h,p){(p==null||p>h.length)&&(p=h.length);for(var y=0,a=new Array(p);y<p;y++)a[y]=h[y];return a}function C(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function H(h,p){for(var y=0;y<p.length;y++){var a=p[y];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(h,a.key,a)}}function R(h,p,y){return p in h?Object.defineProperty(h,p,{value:y,enumerable:!0,configurable:!0,writable:!0}):h[p]=y,h}var N=function(){function h(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";C(this,h),R(this,"baseUrl",null),R(this,"loggingEnabled",!1),R(this,"defaultQuery",function(){}),R(this,"batchUrl",null),R(this,"collections",{}),R(this,"singles",{}),R(this,"requestInterceptors",[]),R(this,"responseInterceptors",[]),this.baseUrl=a}var p,y;return p=h,y=[{key:"init",value:function(a){for(var d in a)Array.isArray(a[d])?this.addCollection(d,new w(a[d],"id")):this.addSingle(d,new m(a[d]))}},{key:"toggleLogging",value:function(){this.loggingEnabled=!this.loggingEnabled}},{key:"setDefaultQuery",value:function(a){this.defaultQuery=a}},{key:"setBatchUrl",value:function(a){this.batchUrl=a}},{key:"setBatch",value:function(a){console.warn("Server.setBatch() is deprecated, use Server.setBatchUrl() instead"),this.batchUrl=a}},{key:"addCollection",value:function(a,d){this.collections[a]=d,d.setServer(this),d.setName(a)}},{key:"getCollection",value:function(a){return this.collections[a]}},{key:"getCollectionNames",value:function(){return Object.keys(this.collections)}},{key:"addSingle",value:function(a,d){this.singles[a]=d,d.setServer(this),d.setName(a)}},{key:"getSingle",value:function(a){return this.singles[a]}},{key:"getSingleNames",value:function(){return Object.keys(this.singles)}},{key:"addRequestInterceptor",value:function(a){this.requestInterceptors.push(a)}},{key:"addResponseInterceptor",value:function(a){this.responseInterceptors.push(a)}},{key:"getCount",value:function(a,d){return this.collections[a].getCount(d)}},{key:"getAll",value:function(a,d){return this.collections[a].getAll(d)}},{key:"getOne",value:function(a,d,_){return this.collections[a].getOne(d,_)}},{key:"addOne",value:function(a,d){return this.collections.hasOwnProperty(a)||this.addCollection(a,new w([],"id")),this.collections[a].addOne(d)}},{key:"updateOne",value:function(a,d,_){return this.collections[a].updateOne(d,_)}},{key:"removeOne",value:function(a,d){return this.collections[a].removeOne(d)}},{key:"getOnly",value:function(a,d){return this.singles[a].getOnly()}},{key:"updateOnly",value:function(a,d){return this.singles[a].updateOnly(d)}},{key:"decode",value:function(a){if(a.queryString=decodeURIComponent(a.url.slice(a.url.indexOf("?")+1)),a.params=D(a.queryString),a.requestBody)try{a.json=JSON.parse(a.requestBody)}catch{}return this.requestInterceptors.reduce(function(d,_){return _(d)},a)}},{key:"respond",value:function(a,d,_){var j=arguments.length>3&&arguments[3]!==void 0?arguments[3]:200;d||(d={}),d["Content-Type"]||(d["Content-Type"]="application/json");var x={status:j,headers:d,body:a};return x=this.responseInterceptors.reduce(function(b,P){return P(b,_)},x),this.log(_,x),_.respond(x.status,x.headers,JSON.stringify(x.body))}},{key:"log",value:function(a,d){this.loggingEnabled&&(console.group?(console.groupCollapsed(a.method,a.url,"(FakeRest)"),console.group("request"),console.log(a.method,a.url),console.log("headers",a.requestHeaders),console.log("body   ",a.requestBody),console.groupEnd(),console.group("response",d.status),console.log("headers",d.headers),console.log("body   ",d.body),console.groupEnd(),console.groupEnd()):(console.log("FakeRest request ",a.method,a.url,"headers",a.requestHeaders,"body",a.requestBody),console.log("FakeRest response",d.status,"headers",d.headers,"body",d.body)))}},{key:"batch",value:function(a){var d=a.json,_=this.handle.bind(this),j=Object.keys(d).reduce(function(x,b){var P,L={url:d[b],method:"GET",params:{},respond:function(G,W,et){P={code:G,headers:Object.keys(W||{}).map(function(tt){return{name:tt,value:W[tt]}}),body:et||{}}}};return _(L),x[b]=P||{code:404,headers:[],body:{}},x},{});return this.respond(j,{},a,200)}},{key:"handle",value:function(a){if(a=this.decode(a),this.batchUrl&&this.batchUrl===a.url&&a.method==="POST")return this.batch(a);var d,_=T(this.getSingleNames());try{for(_.s();!(d=_.n()).done;){var j=d.value;if(a.url.match(new RegExp("^"+this.baseUrl+"\\/("+j+")(\\/?.*)?$"))){if(a.method=="GET")try{var x=this.getOnly(j);return this.respond(x,null,a)}catch{return a.respond(404)}if(a.method=="PUT")try{var b=this.updateOnly(j,a.json);return this.respond(b,null,a)}catch{return a.respond(404)}if(a.method=="PATCH")try{var P=this.updateOnly(j,a.json);return this.respond(P,null,a)}catch{return a.respond(404)}}}}catch(dt){_.e(dt)}finally{_.f()}var L=a.url.match(new RegExp("^"+this.baseUrl+"\\/([^\\/?]+)(\\/(\\d+))?(\\?.*)?$"));if(L){var G=L[1],W=Object.assign({},this.defaultQuery(G),a.params);if(L[2]){if(!this.getCollection(G))return;var et=L[3];if(a.method=="GET")try{var tt=this.getOne(G,et,W);return this.respond(tt,null,a)}catch{return a.respond(404)}if(a.method=="PUT")try{var K=this.updateOne(G,et,a.json);return this.respond(K,null,a)}catch{return a.respond(404)}if(a.method=="PATCH")try{var ct=this.updateOne(G,et,a.json);return this.respond(ct,null,a)}catch{return a.respond(404)}if(a.method=="DELETE")try{var X=this.removeOne(G,et);return this.respond(X,null,a)}catch{return a.respond(404)}}else{if(a.method=="GET"){if(!this.getCollection(G))return;var Y,st,F,V=this.getCount(G,W.filter?{filter:W.filter}:{});if(V>0){Y=this.getAll(G,W);var lt=W.range?W.range[0]:0,ht=W.range?Math.min(Y.length-1+lt,W.range[1]):Y.length-1;st="items ".concat(lt,"-").concat(ht,"/").concat(V),F=Y.length==V?200:206}else Y=[],st="items */0",F=200;return this.respond(Y,{"Content-Range":st},a,F)}if(a.method=="POST"){var yt=this.addOne(G,a.json),Q=this.baseUrl+"/"+G+"/"+yt[this.getCollection(G).identifierName];return this.respond(yt,{Location:Q},a,201)}}}}},{key:"getHandler",value:function(){return this.handle.bind(this)}}],y&&H(p.prototype,y),Object.defineProperty(p,"prototype",{writable:!1}),h}();function J(h){return J=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},J(h)}function rt(h,p){var y=typeof Symbol<"u"&&h[Symbol.iterator]||h["@@iterator"];if(!y){if(Array.isArray(h)||(y=function(b,P){if(b){if(typeof b=="string")return Z(b,P);var L=Object.prototype.toString.call(b).slice(8,-1);if(L==="Object"&&b.constructor&&(L=b.constructor.name),L==="Map"||L==="Set")return Array.from(b);if(L==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(L))return Z(b,P)}}(h))||p&&h&&typeof h.length=="number"){y&&(h=y);var a=0,d=function(){};return{s:d,n:function(){return a>=h.length?{done:!0}:{done:!1,value:h[a++]}},e:function(b){throw b},f:d}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var _,j=!0,x=!1;return{s:function(){y=y.call(h)},n:function(){var b=y.next();return j=b.done,b},e:function(b){x=!0,_=b},f:function(){try{j||y.return==null||y.return()}finally{if(x)throw _}}}}function Z(h,p){(p==null||p>h.length)&&(p=h.length);for(var y=0,a=new Array(p);y<p;y++)a[y]=h[y];return a}function z(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function it(h,p){for(var y=0;y<p.length;y++){var a=p[y];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(h,a.key,a)}}function q(h,p){return q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(y,a){return y.__proto__=a,y},q(h,p)}function nt(h){var p=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var y,a=at(h);if(p){var d=at(this).constructor;y=Reflect.construct(a,arguments,d)}else y=a.apply(this,arguments);return ft(this,y)}}function ft(h,p){if(p&&(J(p)==="object"||typeof p=="function"))return p;if(p!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(y){if(y===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y}(h)}function at(h){return at=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(p){return p.__proto__||Object.getPrototypeOf(p)},at(h)}var ut=function(h){(function(_,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(j&&j.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),Object.defineProperty(_,"prototype",{writable:!1}),j&&q(_,j)})(d,h);var p,y,a=nt(d);function d(){return z(this,d),a.apply(this,arguments)}return p=d,(y=[{key:"decode",value:function(_,j){var x=this,b=typeof _=="string"?new Request(_,j):_;return b.queryString=decodeURIComponent(b.url.slice(b.url.indexOf("?")+1)),b.params=D(b.queryString),b.text().then(function(P){b.requestBody=P;try{b.requestJson=JSON.parse(P)}catch{}}).then(function(){return x.requestInterceptors.reduce(function(P,L){return L(P)},b)})}},{key:"respond",value:function(_,j){return _=this.responseInterceptors.reduce(function(x,b){return b(x,j)},_),this.log(j,_),_.headers=new Headers(_.headers),_}},{key:"log",value:function(_,j){this.loggingEnabled&&(console.group?(console.groupCollapsed(_.method,_.url,"(FakeRest)"),console.group("request"),console.log(_.method,_.url),console.log("headers",_.headers),console.log("body   ",_.requestBody),console.groupEnd(),console.group("response",j.status),console.log("headers",j.headers),console.log("body   ",j.body),console.groupEnd(),console.groupEnd()):(console.log("FakeRest request ",_.method,_.url,"headers",_.headers,"body",_.requestBody),console.log("FakeRest response",j.status,"headers",j.headers,"body",j.body)))}},{key:"batch",value:function(_){throw new Error("not implemented")}},{key:"handle",value:function(_,j){var x=this;return this.decode(_,j).then(function(b){var P={headers:{"Content-Type":"application/json"},status:200};if(x.batchUrl&&x.batchUrl===b.url&&b.method==="POST")return x.batch(b);var L,G=rt(x.getSingleNames());try{for(G.s();!(L=G.n()).done;){var W=L.value;if(b.url.match(new RegExp("^"+x.baseUrl+"\\/("+W+")(\\/?.*)?$"))){if(b.method=="GET"){try{P.body=x.getOnly(W)}catch{reponse.status=404}return x.respond(P,b)}if(b.method=="PUT"){try{P.body=x.updateOnly(W,b.requestJson)}catch{reponse.status=404}return x.respond(P,b)}if(b.method=="PATCH"){try{P.body=x.updateOnly(W,b.requestJson)}catch{reponse.status=404}return x.respond(P,b)}}}}catch(Q){G.e(Q)}finally{G.f()}var et,tt=rt(x.getCollectionNames());try{for(tt.s();!(et=tt.n()).done;){var K=et.value,ct=b.url.match(new RegExp("^"+x.baseUrl+"\\/("+K+")(\\/(\\d+))?(\\?.*)?$"));if(ct){var X=Object.assign({},x.defaultQuery(K),b.params);if(ct[2]){var Y=ct[3];if(b.method=="GET"){try{P.body=x.getOne(K,Y,X)}catch{P.status=404}return x.respond(P,b)}if(b.method=="PUT"){try{P.body=x.updateOne(K,Y,b.requestJson)}catch{P.status=404}return x.respond(P,b)}if(b.method=="PATCH"){try{P.body=x.updateOne(K,Y,b.requestJson)}catch{P.status=404}return x.respond(P,b)}if(b.method=="DELETE"){try{P.body=x.removeOne(K,Y)}catch{P.status=404}return x.respond(P,b)}}else{if(b.method=="GET"){var st=x.getCount(K,X.filter?{filter:X.filter}:{});if(st>0){var F=x.getAll(K,X),V=X.range?X.range[0]:0,lt=X.range?Math.min(F.length-1+V,X.range[1]):F.length-1;P.body=F,P.headers["Content-Range"]="items ".concat(V,"-").concat(lt,"/").concat(st),P.status=F.length==st?200:206}else P.body=[],P.headers["Content-Range"]="items */0";return x.respond(P,b)}if(b.method=="POST"){var ht=x.addOne(K,b.requestJson),yt=x.baseUrl+"/"+K+"/"+ht[x.getCollection(K).identifierName];return P.body=ht,P.headers.Location=yt,P.status=201,x.respond(P,b)}}}}}catch(Q){tt.e(Q)}finally{tt.f()}return x.respond(P,b)})}}])&&it(p.prototype,y),Object.defineProperty(p,"prototype",{writable:!1}),d}(N),ot={Server:N,FetchServer:ut,Collection:w,Single:m}}(),$}()})})(wt);var It=wt.exports;const Ut=Ot(It);var Ct=globalThis&&globalThis.__extends||function(){var B=function(M,A){return B=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,U){I.__proto__=U}||function(I,U){for(var $ in U)Object.prototype.hasOwnProperty.call(U,$)&&(I[$]=U[$])},B(M,A)};return function(M,A){if(typeof A!="function"&&A!==null)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");B(M,A);function I(){this.constructor=M}M.prototype=A===null?Object.create(A):(I.prototype=A.prototype,new I)}}(),vt=globalThis&&globalThis.__assign||function(){return vt=Object.assign||function(B){for(var M,A=1,I=arguments.length;A<I;A++){M=arguments[A];for(var U in M)Object.prototype.hasOwnProperty.call(M,U)&&(B[U]=M[U])}return B},vt.apply(this,arguments)};function Bt(B,M,A,I){console.group?(console.groupCollapsed(B,M,JSON.stringify(A)),console.log(I),console.groupEnd()):(console.log("FakeRest request ",B,M,A),console.log("FakeRest response",I))}const Rt=function(B,M){M===void 0&&(M=!1);var A=new Ut.Server;A.init(B),typeof window<"u"&&(window.restServer=A);function I($,n,o){var t;switch($){case"getList":{var r=o.pagination,u=r.page,c=r.perPage,i=o.sort,e=i.field,s=i.order,l={sort:[e,s],range:[(u-1)*c,u*c-1],filter:o.filter};return{data:A.getAll(n,l),total:A.getCount(n,{filter:o.filter})}}case"getOne":return{data:A.getOne(n,o.id,vt({},o))};case"getMany":return{data:o.ids.map(function(w){return A.getOne(n,w)},vt({},o))};case"getManyReference":{var f=o.pagination,u=f.page,c=f.perPage,v=o.sort,e=v.field,s=v.order,l={sort:[e,s],range:[(u-1)*c,u*c-1],filter:vt(vt({},o.filter),(t={},t[o.target]=o.id,t))};return{data:A.getAll(n,l),total:A.getCount(n,{filter:l.filter})}}case"update":return{data:A.updateOne(n,o.id,vt({},o.data))};case"updateMany":return o.ids.forEach(function(w){return A.updateOne(n,w,vt({},o.data))}),{data:o.ids};case"create":return{data:A.addOne(n,vt({},o.data))};case"delete":return{data:A.removeOne(n,o.id)};case"deleteMany":return o.ids.forEach(function(w){return A.removeOne(n,w)}),{data:o.ids};default:return!1}}var U=function($,n,o){var t=A.getCollection(n);if(!t&&$!=="create"){var r=new Mt('Undefined collection "'.concat(n,'"'));return r.code=1,Promise.reject(r)}var u;try{u=I($,n,o)}catch(c){return console.error(c),Promise.reject(c)}return M&&Bt($,n,o,u),Promise.resolve(u)};return{getList:function($,n){return U("getList",$,n)},getOne:function($,n){return U("getOne",$,n)},getMany:function($,n){return U("getMany",$,n)},getManyReference:function($,n){return U("getManyReference",$,n)},update:function($,n){return U("update",$,n)},updateMany:function($,n){return U("updateMany",$,n)},create:function($,n){return U("create",$,n)},delete:function($,n){return U("delete",$,n)},deleteMany:function($,n){return U("deleteMany",$,n)}}};var Mt=function(B){Ct(M,B);function M(){return B!==null&&B.apply(this,arguments)||this}return M}(Error),jt={},xt={},gt={},pt=pt||function(B,M){var A={},I=A.lib={},U=function(){},$=I.Base={extend:function(e){U.prototype=this;var s=new U;return e&&s.mixIn(e),s.hasOwnProperty("init")||(s.init=function(){s.$super.init.apply(this,arguments)}),s.init.prototype=s,s.$super=this,s},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var s in e)e.hasOwnProperty(s)&&(this[s]=e[s]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},n=I.WordArray=$.extend({init:function(e,s){e=this.words=e||[],this.sigBytes=s!=M?s:4*e.length},toString:function(e){return(e||t).stringify(this)},concat:function(e){var s=this.words,l=e.words,f=this.sigBytes;if(e=e.sigBytes,this.clamp(),f%4)for(var v=0;v<e;v++)s[f+v>>>2]|=(l[v>>>2]>>>24-8*(v%4)&255)<<24-8*((f+v)%4);else if(65535<l.length)for(v=0;v<e;v+=4)s[f+v>>>2]=l[v>>>2];else s.push.apply(s,l);return this.sigBytes+=e,this},clamp:function(){var e=this.words,s=this.sigBytes;e[s>>>2]&=4294967295<<32-8*(s%4),e.length=B.ceil(s/4)},clone:function(){var e=$.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var s=[],l=0;l<e;l+=4)s.push(4294967296*B.random()|0);return new n.init(s,e)}}),o=A.enc={},t=o.Hex={stringify:function(e){var s=e.words;e=e.sigBytes;for(var l=[],f=0;f<e;f++){var v=s[f>>>2]>>>24-8*(f%4)&255;l.push((v>>>4).toString(16)),l.push((v&15).toString(16))}return l.join("")},parse:function(e){for(var s=e.length,l=[],f=0;f<s;f+=2)l[f>>>3]|=parseInt(e.substr(f,2),16)<<24-4*(f%8);return new n.init(l,s/2)}},r=o.Latin1={stringify:function(e){var s=e.words;e=e.sigBytes;for(var l=[],f=0;f<e;f++)l.push(String.fromCharCode(s[f>>>2]>>>24-8*(f%4)&255));return l.join("")},parse:function(e){for(var s=e.length,l=[],f=0;f<s;f++)l[f>>>2]|=(e.charCodeAt(f)&255)<<24-8*(f%4);return new n.init(l,s)}},u=o.Utf8={stringify:function(e){try{return decodeURIComponent(escape(r.stringify(e)))}catch{throw Error("Malformed UTF-8 data")}},parse:function(e){return r.parse(unescape(encodeURIComponent(e)))}},c=I.BufferedBlockAlgorithm=$.extend({reset:function(){this._data=new n.init,this._nDataBytes=0},_append:function(e){typeof e=="string"&&(e=u.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(e){var s=this._data,l=s.words,f=s.sigBytes,v=this.blockSize,w=f/(4*v),w=e?B.ceil(w):B.max((w|0)-this._minBufferSize,0);if(e=w*v,f=B.min(4*e,f),e){for(var g=0;g<e;g+=v)this._doProcessBlock(l,g);g=l.splice(0,e),s.sigBytes-=f}return new n.init(g,f)},clone:function(){var e=$.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});I.Hasher=c.extend({cfg:$.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){c.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(s,l){return new e.init(l).finalize(s)}},_createHmacHelper:function(e){return function(s,l){return new i.HMAC.init(e,l).finalize(s)}}});var i=A.algo={};return A}(Math);(function(B){for(var M=pt,e=M.lib,A=e.WordArray,I=e.Hasher,e=M.algo,U=[],$=[],n=function(l){return 4294967296*(l-(l|0))|0},o=2,t=0;64>t;){var r;t:{r=o;for(var u=B.sqrt(r),c=2;c<=u;c++)if(!(r%c)){r=!1;break t}r=!0}r&&(8>t&&(U[t]=n(B.pow(o,.5))),$[t]=n(B.pow(o,1/3)),t++),o++}var i=[],e=e.SHA256=I.extend({_doReset:function(){this._hash=new A.init(U.slice(0))},_doProcessBlock:function(s,l){for(var f=this._hash.words,v=f[0],w=f[1],g=f[2],O=f[3],m=f[4],S=f[5],k=f[6],D=f[7],T=0;64>T;T++){if(16>T)i[T]=s[l+T]|0;else{var E=i[T-15],C=i[T-2];i[T]=((E<<25|E>>>7)^(E<<14|E>>>18)^E>>>3)+i[T-7]+((C<<15|C>>>17)^(C<<13|C>>>19)^C>>>10)+i[T-16]}E=D+((m<<26|m>>>6)^(m<<21|m>>>11)^(m<<7|m>>>25))+(m&S^~m&k)+$[T]+i[T],C=((v<<30|v>>>2)^(v<<19|v>>>13)^(v<<10|v>>>22))+(v&w^v&g^w&g),D=k,k=S,S=m,m=O+E|0,O=g,g=w,w=v,v=E+C|0}f[0]=f[0]+v|0,f[1]=f[1]+w|0,f[2]=f[2]+g|0,f[3]=f[3]+O|0,f[4]=f[4]+m|0,f[5]=f[5]+S|0,f[6]=f[6]+k|0,f[7]=f[7]+D|0},_doFinalize:function(){var s=this._data,l=s.words,f=8*this._nDataBytes,v=8*s.sigBytes;return l[v>>>5]|=128<<24-v%32,l[(v+64>>>9<<4)+14]=B.floor(f/4294967296),l[(v+64>>>9<<4)+15]=f,s.sigBytes=4*l.length,this._process(),this._hash},clone:function(){var s=I.clone.call(this);return s._hash=this._hash.clone(),s}});M.SHA256=I._createHelper(e),M.HmacSHA256=I._createHmacHelper(e)})(Math);(function(){var B=pt,M=B.enc.Utf8;B.algo.HMAC=B.lib.Base.extend({init:function(A,I){A=this._hasher=new A.init,typeof I=="string"&&(I=M.parse(I));var U=A.blockSize,$=4*U;I.sigBytes>$&&(I=A.finalize(I)),I.clamp();for(var n=this._oKey=I.clone(),o=this._iKey=I.clone(),t=n.words,r=o.words,u=0;u<U;u++)t[u]^=1549556828,r[u]^=909522486;n.sigBytes=o.sigBytes=$,this.reset()},reset:function(){var A=this._hasher;A.reset(),A.update(this._iKey)},update:function(A){return this._hasher.update(A),this},finalize:function(A){var I=this._hasher;return A=I.finalize(A),I.reset(),I.finalize(this._oKey.clone().concat(A))}})})();(function(){var B=pt,M=B.lib.WordArray;B.enc.Base64={stringify:function(A){var I=A.words,U=A.sigBytes,$=this._map;A.clamp(),A=[];for(var n=0;n<U;n+=3)for(var o=(I[n>>>2]>>>24-8*(n%4)&255)<<16|(I[n+1>>>2]>>>24-8*((n+1)%4)&255)<<8|I[n+2>>>2]>>>24-8*((n+2)%4)&255,t=0;4>t&&n+.75*t<U;t++)A.push($.charAt(o>>>6*(3-t)&63));if(I=$.charAt(64))for(;A.length%4;)A.push(I);return A.join("")},parse:function(A){var I=A.length,U=this._map,$=U.charAt(64);$&&($=A.indexOf($),$!=-1&&(I=$));for(var $=[],n=0,o=0;o<I;o++)if(o%4){var t=U.indexOf(A.charAt(o-1))<<2*(o%4),r=U.indexOf(A.charAt(o))>>>6-2*(o%4);$[n>>>2]|=(t|r)<<24-8*(n%4),n++}return M.create($,n)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}})();(function(B){for(var M=pt,e=M.lib,A=e.WordArray,I=e.Hasher,e=M.algo,U=[],$=[],n=function(l){return 4294967296*(l-(l|0))|0},o=2,t=0;64>t;){var r;t:{r=o;for(var u=B.sqrt(r),c=2;c<=u;c++)if(!(r%c)){r=!1;break t}r=!0}r&&(8>t&&(U[t]=n(B.pow(o,.5))),$[t]=n(B.pow(o,1/3)),t++),o++}var i=[],e=e.SHA256=I.extend({_doReset:function(){this._hash=new A.init(U.slice(0))},_doProcessBlock:function(s,l){for(var f=this._hash.words,v=f[0],w=f[1],g=f[2],O=f[3],m=f[4],S=f[5],k=f[6],D=f[7],T=0;64>T;T++){if(16>T)i[T]=s[l+T]|0;else{var E=i[T-15],C=i[T-2];i[T]=((E<<25|E>>>7)^(E<<14|E>>>18)^E>>>3)+i[T-7]+((C<<15|C>>>17)^(C<<13|C>>>19)^C>>>10)+i[T-16]}E=D+((m<<26|m>>>6)^(m<<21|m>>>11)^(m<<7|m>>>25))+(m&S^~m&k)+$[T]+i[T],C=((v<<30|v>>>2)^(v<<19|v>>>13)^(v<<10|v>>>22))+(v&w^v&g^w&g),D=k,k=S,S=m,m=O+E|0,O=g,g=w,w=v,v=E+C|0}f[0]=f[0]+v|0,f[1]=f[1]+w|0,f[2]=f[2]+g|0,f[3]=f[3]+O|0,f[4]=f[4]+m|0,f[5]=f[5]+S|0,f[6]=f[6]+k|0,f[7]=f[7]+D|0},_doFinalize:function(){var s=this._data,l=s.words,f=8*this._nDataBytes,v=8*s.sigBytes;return l[v>>>5]|=128<<24-v%32,l[(v+64>>>9<<4)+14]=B.floor(f/4294967296),l[(v+64>>>9<<4)+15]=f,s.sigBytes=4*l.length,this._process(),this._hash},clone:function(){var s=I.clone.call(this);return s._hash=this._hash.clone(),s}});M.SHA256=I._createHelper(e),M.HmacSHA256=I._createHmacHelper(e)})(Math);gt.enc={Base64:pt.enc.Base64,Utf8:pt.enc.Utf8,Latin1:pt.enc.Latin1};gt.SHA256=pt.SHA256;gt.HmacSHA256=pt.HmacSHA256;const bt=gt,Dt={alg:"HS256",typ:"JWT"};function St(B){return bt.enc.Base64.stringify(B).replace(/=+$/,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ht(B,M,A={}){const I=Object.assign(Dt,A);if(I.alg!=="HS256"&&I.typ!=="JWT")throw new Error("jwt-encode only support the HS256 algorithm and the JWT type of hash");const U=_t(I),$=_t(B);let n=`${U}.${$}`;return n=bt.HmacSHA256(n,M),n=St(n),`${U}.${$}.${n}`}function _t(B){const M=bt.enc.Utf8.parse(JSON.stringify(B));return St(M)}var Lt=Ht;(function(B){function M(e){"@babel/helpers - typeof";return M=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},M(e)}Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0;var A=$(Lt),I=$($t),U=["setToken"];function $(e){return e&&e.__esModule?e:{default:e}}function n(e,s){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(e);s&&(f=f.filter(function(v){return Object.getOwnPropertyDescriptor(e,v).enumerable})),l.push.apply(l,f)}return l}function o(e){for(var s=1;s<arguments.length;s++){var l=arguments[s]!=null?arguments[s]:{};s%2?n(Object(l),!0).forEach(function(f){t(e,f,l[f])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):n(Object(l)).forEach(function(f){Object.defineProperty(e,f,Object.getOwnPropertyDescriptor(l,f))})}return e}function t(e,s,l){return s=r(s),s in e?Object.defineProperty(e,s,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[s]=l,e}function r(e){var s=u(e,"string");return M(s)=="symbol"?s:String(s)}function u(e,s){if(M(e)!="object"||!e)return e;var l=e[Symbol.toPrimitive];if(l!==void 0){var f=l.call(e,s||"default");if(M(f)!="object")return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(e)}function c(e,s){if(e==null)return{};var l=i(e,s),f,v;if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(e);for(v=0;v<w.length;v++)f=w[v],!(s.indexOf(f)>=0)&&Object.prototype.propertyIsEnumerable.call(e,f)&&(l[f]=e[f])}return l}function i(e,s){if(e==null)return{};var l={},f=Object.keys(e),v,w;for(w=0;w<f.length;w++)v=f[w],!(s.indexOf(v)>=0)&&(l[v]=e[v]);return l}B.default=function(s){var l=s.provider.getOne,f=(0,I.default)(),v=f.setToken,w=c(f,U);return o(o({},w),{},{login:function(O){var m=O.username;return l("users",{id:m}).then(function(S){var k=S.data,D=k.id,T=k.tags;return{sub:D,roles:T.map(function(E){var C=E.name;return C})}}).then(function(S){return(0,A.default)(S,"")}).then(v)}})}})(xt);var At={};(function(B){function M(g){"@babel/helpers - typeof";return M=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},M(g)}Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0;var A=["getList"];function I(g,O){var m=Object.keys(g);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(g);O&&(S=S.filter(function(k){return Object.getOwnPropertyDescriptor(g,k).enumerable})),m.push.apply(m,S)}return m}function U(g){for(var O=1;O<arguments.length;O++){var m=arguments[O]!=null?arguments[O]:{};O%2?I(Object(m),!0).forEach(function(S){$(g,S,m[S])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(m)):I(Object(m)).forEach(function(S){Object.defineProperty(g,S,Object.getOwnPropertyDescriptor(m,S))})}return g}function $(g,O,m){return O=n(O),O in g?Object.defineProperty(g,O,{value:m,enumerable:!0,configurable:!0,writable:!0}):g[O]=m,g}function n(g){var O=o(g,"string");return M(O)=="symbol"?O:String(O)}function o(g,O){if(M(g)!="object"||!g)return g;var m=g[Symbol.toPrimitive];if(m!==void 0){var S=m.call(g,O||"default");if(M(S)!="object")return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return(O==="string"?String:Number)(g)}function t(g,O){if(g==null)return{};var m=r(g,O),S,k;if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(g);for(k=0;k<D.length;k++)S=D[k],!(O.indexOf(S)>=0)&&Object.prototype.propertyIsEnumerable.call(g,S)&&(m[S]=g[S])}return m}function r(g,O){if(g==null)return{};var m={},S=Object.keys(g),k,D;for(D=0;D<S.length;D++)k=S[D],!(O.indexOf(k)>=0)&&(m[k]=g[k]);return m}function u(g,O){return l(g)||s(g,O)||i(g,O)||c()}function c(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i(g,O){if(g){if(typeof g=="string")return e(g,O);var m=Object.prototype.toString.call(g).slice(8,-1);if(m==="Object"&&g.constructor&&(m=g.constructor.name),m==="Map"||m==="Set")return Array.from(g);if(m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return e(g,O)}}function e(g,O){(O==null||O>g.length)&&(O=g.length);for(var m=0,S=new Array(O);m<O;m++)S[m]=g[m];return S}function s(g,O){var m=g==null?null:typeof Symbol<"u"&&g[Symbol.iterator]||g["@@iterator"];if(m!=null){var S,k,D,T,E=[],C=!0,H=!1;try{if(D=(m=m.call(g)).next,O===0){if(Object(m)!==m)return;C=!1}else for(;!(C=(S=D.call(m)).done)&&(E.push(S.value),E.length!==O);C=!0);}catch(R){H=!0,k=R}finally{try{if(!C&&m.return!=null&&(T=m.return(),Object(T)!==T))return}finally{if(H)throw k}}return E}}function l(g){if(Array.isArray(g))return g}var f=function(O,m,S,k){return console.group?(console.groupCollapsed(O,m,JSON.stringify(S)),console.log(k),console.groupEnd()):(console.log("FakeRest request ",O,m,S),console.log("FakeRest response",k)),k},v=function(O,m,S){var k=O.getAll,D=O.getPage,T=O.isLocalesIncludes,E=O.isTagsActive;return k(m,S).then(function(C){var H=C.data,R=S.filter;switch(m){case"pages":return R.id&&(H=H.filter(function(N){var J=N.id;return J.includes(R.id)})),R.title&&(H=H.filter(function(N){var J=N.title;return T(J,R.title)})),R.content&&(H=H.filter(function(N){var J=N.content;return T(J,R.content)})),R.tags&&(H=H.filter(function(N){return E(N,R.tags)})),D(H,S);case"users":return R.id&&(H=H.filter(function(N){var J=N.id;return J.includes(R.id)})),R.tags&&(H=H.filter(function(N){return E(N,R.tags)})),D(H,S);default:return!1}})},w=function(O,m,S){var k=O.getOne,D=O.getAll,T=O.getPath,E=O.isTagsActive,C=m.tags,H=C.pages,R=H.MENU,N=H.PUBLISHED,J=C.users.PAGES_EDITOR,rt=m.localeProvider.getLocale,Z=m.authProvider.getPermissions;return Promise.all([rt(),Z()]).then(function(z){var it=u(z,2),q=it[0],nt=it[1],ft=T(S),at=u(ft,4),ut=at[0];at[1];var ot=at[2],h=at[3];switch(ut){case"pages":switch(ot){case"one":return k(ut,{id:h}).then(function(p){var y=p.data;if(!(E(y,[N])||nt&&nt.includes(J)))return!1;var a=y.title,d=y.content,_=y.files;return!d||!d[q]?!1:{data:{id:h,title:a&&a[q],content:d[q],files:_&&_.map(function(j){var x=j.name;return x})}}},function(){return!1});case"menu":return D(ut).then(function(p){var y=p.data;return{data:y.filter(function(a){return E(a,[R])}).map(function(a){var d=a.id,_=a.title;return{id:d,title:_[q]}})}});default:return!1}default:return!1}})};B.default=function(O){var m=O.locales,S=O.provider,k=S.getList,D=t(S,A),T=U(U({},D),{},{getAll:function(C){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},R=H.sort,N=R===void 0?{field:"id",order:"ASC"}:R;return k(C,{pagination:{page:1,perPage:Number.MAX_VALUE},sort:N})},getPath:function(C){var H=C.path;return H.split("/")},getPage:function(C,H){var R=H.pagination,N=R.page,J=R.perPage;return{data:C.slice((N-1)*J,N*J),total:C.length}},isLocalesIncludes:function(C,H){return C&&Object.keys(m).some(function(R){return C[R]&&C[R].toLowerCase().includes(H.toLowerCase())})},isTagsActive:function(C,H){var R=C.tags;return R&&R.some(function(N){var J=N.name,rt=N.start,Z=N.end;return H.includes(J)&&(!rt||new Date>new Date(rt))&&(!Z||new Date<new Date(Z))})}});return U(U({},T),{},{getList:function(C,H){return v(T,C,H).then(function(R){return R&&f("getList",C,H,R)}).then(function(R){return R||k(C,H)})},exchange:function(C){return w(T,O,C).then(function(H){return f("exchange",void 0,C,H)})},log:f})}})(At);(function(B){Object.defineProperty(B,"__esModule",{value:!0}),B.default=void 0;var M=$(kt),A=$(Tt),I=$(xt),U=$(At);function $(n){return n&&n.__esModule?n:{default:n}}B.default={getLocaleProvider:M.default,getFuncProvider:A.default,getAuthProvider:I.default,getDataProvider:U.default}})(jt);const Nt=Ot(jt),Ft="none",qt=[{name:"PUBLISHED"}],zt={ru:"Не найдено",en:"Not found"},Jt={ru:`<div class="starter">
	<h1>Страница не найдена</h1>
</div>`,en:`<div class="starter">
	<h1>Page not found</h1>
</div>`},Gt={id:Ft,tags:qt,title:zt,content:Jt},Wt="home",Vt=[{name:"PUBLISHED"}],Kt={ru:"Домашняя страница",en:"Home page"},Qt={ru:`<div class="starter">
	<h1>Домашняя страница</h1>
	<img src="a5440060877315a0027f2bed7b7c9cc6.png"/>
	<p>Используйте этот документ для создания нового проекта.</p>
</div>`,en:`<div class="starter">
	<h1>Home page</h1>
	<img src="a5440060877315a0027f2bed7b7c9cc6.png"/>
	<p>Use this document as a way to start new project.</p>
</div>`},Xt=[{name:"a5440060877315a0027f2bed7b7c9cc6.png"}],Yt={id:Wt,tags:Vt,title:Kt,content:Qt,files:Xt},Zt="sample1",tn=[{name:"MENU"},{name:"PUBLISHED"}],nn={ru:"Пример страницы 1",en:"Sample page 1"},en={ru:`<div class="starter">
	<h1>Пример страницы 1</h1>
</div>`,en:`<div class="starter">
	<h1>Sample page 1</h1>
</div>`},rn={id:Zt,tags:tn,title:nn,content:en},on="sample2",an=[{name:"MENU"},{name:"PUBLISHED"}],un={ru:"Пример страницы 2",en:"Sample page 2"},cn={ru:`<div class="starter">
	<h1>Пример страницы 2</h1>
	<Page id="fragment.1"/>
</div>`,en:`<div class="starter">
	<h1>Sample page 2</h1>
	<Page id="fragment.1"/>
</div>`},sn={id:on,tags:an,title:un,content:cn},fn="sample3",ln=[{name:"MENU"},{name:"PUBLISHED"}],dn={ru:"Пример страницы 3",en:"Sample page 3"},pn={ru:`<div class="starter">
	<h1>Пример страницы 3</h1>
	<Page id="fragment.2"/>
</div>`,en:`<div class="starter">
	<h1>Sample page 3</h1>
	<Page id="fragment.2"/>
</div>`},hn={id:fn,tags:ln,title:dn,content:pn},vn="sample4",yn=[{name:"MENU"},{name:"PUBLISHED"}],gn={ru:"Пример страницы 4",en:"Sample page 4"},bn={ru:`<div class="starter">
	<h1>Пример страницы 4</h1>
	Контент для {permissions && permissions.includes(context.tags.users.PAGES_EDITOR) ? 'редактора' : 'всех кроме редактора'}
</div>`,en:`<div class="starter">
	<h1>Sample page 4</h1>
	Content for {permissions && permissions.includes(context.tags.users.PAGES_EDITOR) ? 'editor' : 'all except editor'}
</div>`},mn={id:vn,tags:yn,title:gn,content:bn},_n="sample5",On=[{name:"MENU"},{name:"PUBLISHED"}],wn={ru:"Пример страницы 5",en:"Sample page 5"},jn={ru:`<div class="starter">
	<h1>Пример страницы 5</h1>
	<Page id="fragment.3" p1="test" p2={123}/>
</div>`,en:`<div class="starter">
	<h1>Sample page 5</h1>
	<Page id="fragment.3" p1="test" p2={123}/>
</div>`},xn={id:_n,tags:On,title:wn,content:jn},Sn="fragment.1",An=[{name:"PUBLISHED"}],Pn={ru:"Фрагмент 1",en:"Fragment 1"},En={ru:"<p>Фрагмент 1</p>",en:"<p>Fragment 1</p>"},$n={id:Sn,tags:An,title:Pn,content:En},kn="fragment.2",Tn=[{name:"PUBLISHED"}],In={ru:"Фрагмент 2",en:"Fragment 2"},Un={ru:`<Page id="fragment.1"/>
<img src="a5440060877315a0027f2bed7b7c9cc6.png"/>
<p>Фрагмент 2</p>`,en:`<Page id="fragment.1"/>
<img src="a5440060877315a0027f2bed7b7c9cc6.png"/>
<p>Fragment 2</p>`},Cn=[{name:"a5440060877315a0027f2bed7b7c9cc6.png"}],Bn={id:kn,tags:Tn,title:In,content:Un,files:Cn},Rn="fragment.3",Mn=[{name:"PUBLISHED"}],Dn={ru:"Фрагмент 3",en:"Fragment 3"},Hn={ru:`<p>Параметры</p><code>{JSON.stringify(props)}</code>
<p>Контекст</p><code>{JSON.stringify(context)}</code>
<p>Разрешения</p><code>{JSON.stringify(permissions)}</code>`,en:`<p>Properties</p><code>{JSON.stringify(props)}</code>
<p>Context</p><code>{JSON.stringify(context)}</code>
<p>Permissions</p><code>{JSON.stringify(permissions)}</code>`},Ln={id:Rn,tags:Mn,title:Dn,content:Hn},Nn=[Gt,Yt,rn,sn,hn,mn,xn,$n,Bn,Ln],Fn="admin",qn=[{name:"ADMIN"},{name:"MANAGER"},{name:"PAGES_EDITOR"}],zn={id:Fn,tags:qn},Jn="editor",Gn=[{name:"PAGES_EDITOR"}],Wn={id:Jn,tags:Gn},Vn="manager",Kn=[{name:"MANAGER"}],Qn={id:Vn,tags:Kn},Xn=[zn,Wn,Qn],Yn={pages:Nn,users:Xn},Zn=B=>Et(Object.assign({"./messages/en.js":()=>mt(()=>import("./en-225eaaf0.js"),["assets/en-225eaaf0.js","assets/index-950f6160.js"]),"./messages/ru.js":()=>mt(()=>import("./ru-47238ee6.js"),["assets/ru-47238ee6.js","assets/index-950f6160.js"])}),`./messages/${B}.js`).then(M=>M.default),{getLocaleProvider:te,getFuncProvider:ne,getAuthProvider:ee,getDataProvider:re}=Nt,ae=B=>{const M=te({getLocaleMessages:Zn,...B}),A=ne(B),I=Rt(Yn,!0),U=ee({provider:I,...B}),$=re({provider:I,localeProvider:M,authProvider:U,...B});return{localeProvider:M,funcProvider:A,authProvider:U,dataProvider:$}};export{ae as default};
